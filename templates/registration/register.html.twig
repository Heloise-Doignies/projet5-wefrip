{% extends 'base.html.twig' %}

{% block title %}Formulaire d'inscription
{% endblock %}

{% block body %}

	{% if app.user is not null %}

		{% for flash_error in app.flashes('verify_email_error') %}
			<div class="alert alert-danger alert-dismissible" role="alert">{{ flash_error }}
			<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"> ou es tu</button>
			</div>
			
		{% endfor %}
		<h3 class="mb-3 text-center">
			Tu es déjà connecté.e avec l'adresse mail :
			{{ app.user.userIdentifier }}.
			<br>Tu peux partir à la découverte de WeFrip' !
			<br>
			<a href="{{path('app_logout')}}" class="btn btn-primary m-3">Se déconnecter</a>
		</h3>
	{% else %}

{# py=padding vertical , je mets 2 mais ça peut aller jusqu'à 5#}
		<div class="container m-auto w-50 my-5 rounded py-2 bg-warning" id="register-container">
			<h1>Formulaire d'inscription</h1>
			{{ form_errors(registrationForm) }}

			{{ form_start(registrationForm) }}
			{{ form_row(registrationForm.email) }}
			<div class="mb-3">
				<label for="exampleFormControlInput1" class="form-label">Pseudo</label>
				<input type="text" class="form-control" placeholder="choisir un pesudo">
			</div>
			{{ form_row(registrationForm.plainPassword, {
            label: 'Password'
        }) }}
			<div class="mb-3">
				<label for="formFile" class="form-label">Avatar</label>
				<input class="form-control" type="file" id="formFile">
			</div>

			{{ form_row(registrationForm.agreeTerms) }}

			<button type="submit" class="btn btn-primary my-3 d-grid gap-2 col-6 mx-auto">M'inscrire</button>
			<div id="login-inscrire">
				<p>Déjà un compte ?
					<a href="{{path('app_login')}}">Connecte-toi.</a>
				</p>
			</div>
		</div>
		{{ form_end(registrationForm) }}


	{% endif %}

{% endblock %}

{# {{ form_errors(registrationForm) }}

    {{ form_start(registrationForm) }}
        {{ form_row(registrationForm.email) }}
        {{ form_row(registrationForm.plainPassword, {
            label: 'Password'
        }) }}
        {{ form_row(registrationForm.agreeTerms) }}

        <button type="submit" class="btn">Register</button>
    {{ form_end(registrationForm) }} #}
